<div id="single-post" ng-controller="SinglePostController">
    <div class="post-container">
        <div class="single-post-header" ng-show="subject">
            <div class="header-meta-intro">
                THREAD
            </div>
            <h1 id="header-text"ng-click="goToThread()">
                {{ subject.Subject }}
            </h1>
        </div>
        <div class="parent-post" ng-hide="parentPost.PostFingerprint == subject.PostFingerprint || !parentPost.Body">
            <div class="header-meta-intro"
                    ng-click="toggleParentVisibility()">
                PARENT
                <i class="fa fa-caret-down parent-caret" ng-show="parentIsVisible"></i>
                <i class="fa fa-caret-right parent-caret" ng-show="!parentIsVisible"></i>
            </div>
            <div class="parent-post-main" ng-show="parentIsVisible">
                <div class="pre-meta-container">
                    <div class="pre-meta">
                        <div class="counters">
                            <i class="fa fa-arrow-up upvote-counter-icon">
                            </i>
                            {{ parentPost.UpvoteCount - parentPost.DownvoteCount }}&nbsp;&nbsp;
                        </div>
                        <span class="comment-owner" ng-click="clickToUsername(post.OwnerUsername)">
                            <!--<img src="img/aethersign.icon.slimmer.svg" alt="" class="header-aether-sign">-->
                            <div class="owner-name">{{ parentPost.OwnerUsername }}</div>
                        </span>
                        <span class="comment-datetime">
                            {{ parentPost.CreationDate + '000' | date:'MMMM d yyyy, H:mm' }}
                        </span>
                    </div>


                </div>
                <div class="text" ng-bind-html="parentPost.Body"></div>
                <div class="meta">
                    <i class="fa fa-arrow-up upvote-icon"
                    ng-click="upvotePost(parentPost.PostFingerprint)"
                    ng-class="{'highlighted': parentPost.Upvoted}">
                    </i>
                    <i class="fa fa-arrow-down downvote-icon"
                    ng-click="downvotePost(parentPost.PostFingerprint)"
                    ng-class="{'highlighted': parentPost.Downvoted}">
                    </i>
                    <i class="fa fa-bookmark save-icon"
                    ng-click="savePost(parentPost.PostFingerprint)"
                    ng-class="{'highlighted': parentPost.Saved}">
                    </i>
                    <!-- <i class="fa fa-share share-icon">
                    </i> -->
                    <!--<i class="fa fa-reply reply-icon" ng-click="replyButtonClick()">-->
                    <!--</i>-->
                </div>
            </div>

        </div>

        <div class="reply-post">
            <div class="header-meta-intro"ng-hide="post.LocallyCreated">
                REPLY
            </div>
            <div class="header-meta-intro" ng-show="post.LocallyCreated">
                POST
            </div>
            <div class="pre-meta-container">
            <div class="pre-meta">
                <div class="counters">
                    <i class="fa fa-arrow-up upvote-counter-icon">
                    </i>
                    {{ post.UpvoteCount - post.DownvoteCount }}&nbsp;&nbsp;
                </div>
                <span class="comment-owner" ng-click="clickToUsername(post.OwnerUsername)">
                    <!--<img src="img/aethersign.icon.slimmer.svg" alt="" class="header-aether-sign">-->
                    <div class="owner-name">{{ post.OwnerUsername }}</div>
                </span>
                <span class="comment-datetime">
                    {{ post.CreationDate + '000' | date:'MMMM d yyyy, H:mm' }}
                </span>
            </div>


        </div>
        <div class="text" ng-bind-html="post.Body"></div>
        <div class="meta">
            <i class="fa fa-arrow-up upvote-icon"
            ng-click="upvotePost(post.PostFingerprint)"
            ng-class="{'highlighted': post.Upvoted}">
            </i>
            <i class="fa fa-arrow-down downvote-icon"
            ng-click="downvotePost(post.PostFingerprint)"
            ng-class="{'highlighted': post.Downvoted}">
            </i>
            <i class="fa fa-bookmark save-icon"
            ng-click="savePost(post.PostFingerprint)"
            ng-class="{'highlighted': post.Saved}">
            </i>
            <!-- <i class="fa fa-share share-icon">
            </i> -->
            <i class="fa fa-reply reply-icon" ng-click="replyButtonClick()">
            </i>
        </div>
        </div>

        <button ng-show="post.Saved" ng-click="exportButtonClick()" class="export-button-single">Save to your Drive</button>
        <div class="subject-body-entry" contenteditable="plaintext-only"
        ng-show="replyPaneOpen" ng-style="subjectBodyEntryStyle" ng-model="postText"></div>
        <div class="meta-box" ng-show="replyPaneOpen">
            <div class="reply-create-button post" ng-class="{'disabled':postButtonDisabled}"
            ng-click="postButtonDisabled || submitButtonClick()">POST</div>
        </div>
        <div id="footer" ng-hide="replyPaneOpen">
            <img src="img/aethersign.icon.slimmer.colored.svg" alt="" id="aether-footer-brand">
        </div>
        <div class="scrolling-target"></div>
    </div>
</div>