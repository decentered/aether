<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Endpoints - Mim Protocol Documentation</title>
  

  <link rel="shortcut icon" href="../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Endpoints";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Mim Protocol Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">Home</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../entity_concepts/">Entity Concepts</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../objects/">Entities</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../apigeneral/">API</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 current">
        <a class="current" href="./">Endpoints</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#endpoints">Endpoints</a></li>
                
            
                <li class="toctree-l3"><a href="#utility-endpoints">Utility Endpoints</a></li>
                
                    <li><a class="toctree-l4" href="#status">Status</a></li>
                
            
                <li class="toctree-l3"><a href="#entity-endpoints">Entity Endpoints</a></li>
                
                    <li><a class="toctree-l4" href="#filters_1">Filters</a></li>
                
                    <li><a class="toctree-l4" href="#boards">Boards</a></li>
                
                    <li><a class="toctree-l4" href="#threads">Threads</a></li>
                
                    <li><a class="toctree-l4" href="#posts">Posts</a></li>
                
                    <li><a class="toctree-l4" href="#votes">Votes</a></li>
                
                    <li><a class="toctree-l4" href="#keys">Keys</a></li>
                
                    <li><a class="toctree-l4" href="#addressses">Addressses</a></li>
                
                    <li><a class="toctree-l4" href="#truststates">TrustStates</a></li>
                
            
            </ul>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../flows/">Common Flows</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../examples/">Usage Examples</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../faq/">FAQ</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../about/">About</a>
        
    </li>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Mim Protocol Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Endpoints</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="endpoints">Endpoints</h1>
<p>These endpoints provide you with the ability to get certain information from the remote node. In summary, <em>/status</em> provides you a way to check the status and accessibility of the remote. <em>/intro</em> gives you a way to be introduced to the node. Definition of 'being introduced' is to be in sync with a node. In addition, every entity in the network has their own endpoints that return objects of their respective types. Protocol extensions can add their own objects and endpoints with custom behaviour.</p>
<p>All of these endpoints support GET, thus should be accessible via a normal web browser. This is useful for debugging. If you want to connect to your node, simply access <code>https://[ip-address-of-node]:[port]/[protocol-version]/[endpoint]</code>. For more complex queries, you can use <a href="https://chrome.google.com/webstore/detail/postman/fhbjgbiflinjbdggehcddcbncdddomop/reviews?hl=en">web browser extensions</a> that allow you to construct a POST request.</p>
<p>All connections between nodes are force-HTTPS. Any non-encrypted connection between the nodes are forbidden and should result in a 400 Bad request. The nodes should <strong>not</strong> redirect HTTP queries to HTTPS, the queries should outright fail.</p>
<h1 id="utility-endpoints">Utility Endpoints</h1>
<p>These endpoints provide you utilities. They do not map 1:1 to entities provided therein, but they are tasked with several higher-level tasks such as communicating the status of the node, providing you with an introduction, or bootstrapping off of a node.</p>
<ul>
<li>Status
<!-- * Index --></li>
</ul>
<h2 id="status">Status</h2>
<p><strong>Endpoint:</strong> /status</p>
<h4 id="get">GET</h4>
<p>Status is how you check whether a node is online, and is not too busy for you to connect. If you receive an 200 from a status, the node is online, and will be able to respond to you. If you receive a 429, the remote node is busy, and you might be better served connecting to some other node for the time being.</p>
<p>There is no body to this request.</p>
<h4 id="post">POST</h4>
<p>If the local nodes provides a Node header, the status endpoint responds with the remote node's Node header. The remote will also save the local to its database for possible future connections.</p>
<h5 id="filters"><em>Filters</em></h5>
<p>Does not support any filters.</p>
<!-- ## Index
**Endpoint:** /index

Index gives you two things: if you do a GET, you will receive the index of the objects on that node. If you do a POST with your  own node's information, you will have added your information to the remote node's database, thereby declaring your existence to the network.

#### GET
Doing a GET on the index provides you an index of the fingerprints of the boards, threads, posts available from that node, per the standard result policy, and keys under a special policy. Since addresses do not have fingerprints, the last 100 connected addresses are displayed here.

#### POST

A post request with your node details should be responded with a  response body that details the node details for the remote. You can think of this as a handshake. Your node details should be in JSON, and in the format provided in the examples section.

##### *Filters*
Supports *timestamp*. Since it accepts only one timestamp, you should use the oldest timestamp you have of all the timestamps for object types you have. -->

<h1 id="entity-endpoints">Entity Endpoints</h1>
<p>All of the objects in Mim, but not sub-objects, will have their endpoints. For example, <em>Board</em> is the endpoint where you query and get board objects. Example request and responses can be found <a href="http://localhost:8000/examples/#entity-endpoints">here</a>.</p>
<ul>
<li>Boards</li>
<li>Threads</li>
<li>Posts</li>
<li>Votes</li>
<li>Keys</li>
<li>Addresses</li>
<li>TrustStates</li>
</ul>
<p><strong>Entity GET</strong></p>
<p>If you do a GET on any entity endpoint, you will be given the objects of that endpoint in accordance with the standard results policy. This reply will be coming from a cache. See Usage Examples for the syntax of this reply.</p>
<p><strong>[entity]/index</strong></p>
<p><code>https://1.2.3.4:34821/v0/boards/index</code></p>
<p>This endpoint provides you with the list of caches for that endpoint. The remote can provide up to 1000 cache links in the responses section.</p>
<p>Each of the cache responses will be approximately 0.15kb. The base schema is 0.7kb. Therefore, with 10000 caches, the maximum size of this response should be below 5mb.</p>
<p>The remote can also provide more than 10000 cache links without violating the protocol, but if the index response size is larger than what would be required for 1000 caches, the local, at its own discretion, can abort. The reason for this is that anything larger than that has a higher likelihood of a denial of service attack.</p>
<p>In the case you abort the caches index for whatever reason, you can access the last cache (detailed below) to access the last cache, which includes its own link, and the link to the prior cache. You can go backwards by following links one by one.</p>
<!-- **[entity]/last_cache**

Example: ```https://1.2.3.4:34821/v0/boards/last_cache/0.json```

This always gives you the last cache available from that entity. -->

<p><strong>[entity]/cache_[random_cache_id]/0.json</strong></p>
<p>Example: <code>https://1.2.3.4:34821/v0/boards/cache_55a295c39e222e3f94d82d795654a0fea9bc981cd2ae82d7c7b8d4975aa52688/0.json</code></p>
<p>This returns you the first page of the cache you requested. An example of this response is available at the examples session. Each of these pages have the entities you want to have.</p>
<p><code>[random_cache_id]</code> is a SHA256 hash of a random string. It has no significance other than being unique and is not stored anywhere.</p>
<p>Example [random_cache_id]: <code>cache_55a295c39e222e3f94d82d795654a0fea9bc981cd2ae82d7c7b8d4975aa52688</code></p>
<p><strong>[entity]/cache_[random_cache_id]/index/0.json</strong></p>
<p>This is where the index of this cache is. Each of these indexes will be based the cache, and they consist of index of that entire cache.</p>
<p>Addresses do not have a cache, as the index form of Address is itself.</p>
<h5 id="filters_1"><em>Filters</em></h5>
<p>No endpoint of the entity GET supports any filters.</p>
<p><strong>Entity POST</strong></p>
<p>POST allows you to query the remote node using filters provided in each endpoint, if any.</p>
<p>You will receive the link of the first page of the pagination that includes your answer. This response will be kept alive for 30 minutes from the time of request, so you should be done downloading all the pages before then. See Usage Examples for the syntax of this reply.</p>
<h2 id="boards">Boards</h2>
<p><strong>Endpoint:</strong> /boards</p>
<p>Provides board objects.</p>
<h3 id="filters_2"><em>Filters</em></h3>
<p>Supports <em>timestamp</em>, <em>fingerprints</em> and <em>embeds</em>. The embeds are these:</p>
<ul>
<li>Threads</li>
<li>Keys</li>
</ul>
<h2 id="threads">Threads</h2>
<p><strong>Endpoint:</strong> /threads</p>
<p>Provides thread objects.</p>
<h3 id="filters_3"><em>Filters</em></h3>
<p>Supports <em>timestamp</em>, <em>fingerprints</em> and <em>embeds</em>. The embeds are these:</p>
<ul>
<li>Posts</li>
<li>Keys</li>
</ul>
<h2 id="posts">Posts</h2>
<p><strong>Endpoint:</strong> /posts</p>
<p>Provides post objects.</p>
<h3 id="filters_4"><em>Filters</em></h3>
<p>Supports <em>timestamp</em>, <em>fingerprints</em> and <em>embeds</em>. The embeds are these:</p>
<ul>
<li>Keys</li>
<li>Votes</li>
</ul>
<h2 id="votes">Votes</h2>
<p><strong>Endpoint:</strong> /votes</p>
<p>Provides vote objects.</p>
<h3 id="filters_5"><em>Filters</em></h3>
<p>Supports <em>timestamp</em>, <em>fingerprints</em>. Does not support <em>embeds</em>.</p>
<h2 id="keys">Keys</h2>
<p><strong>Endpoint:</strong> /keys</p>
<p>Provides key objects.</p>
<h3 id="filters_6"><em>Filters</em></h3>
<p>Supports <em>timestamp</em>, <em>fingerprints</em>. Does not support <em>embeds</em>.</p>
<h2 id="addressses">Addressses</h2>
<p><strong>Endpoint:</strong> /addresses</p>
<p>Provides address objects.</p>
<h3 id="filters_7"><em>Filters</em></h3>
<p>Supports <em>timestamp</em>, <em>fingerprints</em>. Does not support <em>embeds</em>.</p>
<h2 id="truststates">TrustStates</h2>
<p><strong>Endpoint:</strong> /truststates</p>
<p>Provides trust state objects.</p>
<h3 id="filters_8"><em>Filters</em></h3>
<p>Supports <em>timestamp</em>, <em>fingerprints</em> and <em>embeds</em>. The embeds are these:</p>
<ul>
<li>Keys</li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../flows/" class="btn btn-neutral float-right" title="Common Flows"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../apigeneral/" class="btn btn-neutral" title="API"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../apigeneral/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../flows/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
